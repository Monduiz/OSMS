{% extends "layout.html" %}
{% load widget_tweaks %}
{% load static %}
{% block otherStyles %}
  <link rel="stylesheet" type="text/css" href="{% static 'main/css/profile.css' %}">
{% endblock otherStyles %}
{% block content %}

<!-- Grid row -->
<div class="row">
  <div class="col-lg-4 col-sm-12 sidebarpad pr-1">
    <div class="card">
      <div class='sidebar'>
        <div class="img-fluid">
            <img src="{{ user.profile.image.url }}" class="img-fluid z-depth-1" alt="Card image cap">
        </div>
        <br>
      <div class="profile-head">
        <h4><strong>{{user.username}}</strong></h4>
        <h3>{{ user.firstname }} <span style="text-transform: uppercase;">{{ user.lastname }}</span></h3>
        <h5>{{ user.directorate }}</h5>
      </div>
      <hr id="profile-head-hr">
      <ul class="nav flex-column nav-pills nav-fill mb-3" id="pills-tab" role="tablist" aria-orientation="vertical">
        <li class="nav-item pill-1">
          <a class="nav-link" id="pills-profile-tab" href="{% url 'profile' %}"
            aria-controls="pills-profile" aria-selected="true">Profile</a>
        </li>
        <li class="nav-item pill-2">
          <a class="nav-link" id="pills-trips-tab" href="{% url 'profile-trips' %}"
            aria-controls="pills-trips" aria-selected="false">Activities</a>
        </li>
        <li class="nav-item pill-3">
          <a class="nav-link" id="pills-hoir-tab" href="{% url 'profile-hoirs' %}"
            aria-controls="pills-hoir" aria-selected="false">HOIRs</a>
        </li>
        <li class="nav-item pill-4">
          <a class="nav-link active" id="pills-ocsr-tab" href="{% url 'profile-oscrs' %}"
            aria-controls="pills-oscr" aria-selected="false">OSCRs</a>
        </li>
        <li class="nav-item pill-5">
          <a class="nav-link" id="pills-closeout-tab" href="{% url 'profile-closeouts' %}"
            aria-controls="pills-closeout" aria-selected="false">Close-out</a>
        </li>
        <li class="nav-item pill-6">
          <a class="nav-link" id="pills-dash-tab" href="{% url 'dash' %}"
            aria-controls="pills-dash" aria-selected="false">Dashboard</a>
        </li>
      </ul>
      </div>
    </div>
  </div>

  <div class="col-lg-8 col-sm-12 profilepad pl-1">
    <div class="card profile-card">
        <div class="card-body">
          <div class="tab-content" id="pills-tabContent">

            <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">

            </div>
            <div class="tab-pane fade" id="pills-trips" role="tabpanel" aria-labelledby="pills-trips-tab">

            </div>
            <div class="tab-pane fade" id="pills-hoir" role="tabpanel" aria-labelledby="pills-hoir-tab">

            </div>
            <div class="tab-pane fade show active" id="pills-oscr" role="tabpanel" aria-labelledby="pills-oscr-tab">
              <h2>OSCRs</h2>
              <hr id="title_hr_OSCR">
              <br>
              {% for oscr in oscr_list %}
              <section class="my-1">
                <!-- Section heading -->
                <div class="row">
                  <div class="col-lg-8 col-xl-10">
                    <h3 class="font-weight-bold mb-3"><strong>{{ oscr.officer.username  }}</strong></h3>
                    <p>by <a class="font-weight-bold">{{ oscr.officer.username }}</a>, {{ oscr.date_created|date:'F d, Y' }}</p>
                    {% if oscr.officer == user %}
                      <a href="{% url 'oscr-detail' oscr.id %}" class="btn btn-deep-orange btn-rounded btn-sm">Read</a>
                      <a href="#" class="btn btn-deep-orange btn-rounded btn-sm">PDF</a>
                    {% endif %}
                  </div>
                </div>
              </section>
              <hr class="my-5">
              {% endfor %}
              <!-- pagination start -->
                <nav>
                  <ul class="pagination pg-oscr">
                    {% if oscr_list.has_previous %}
                    <li class="page-item">
                      <a class="page-link" href="?page={{ oscr_list.previous_page_number }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                      </a>
                    </li>
                    {% endif %}
                    {% for num in oscr_list.paginator.page_range %}
                      {% if oscr_list.number == num %}
                        <li class="page-item active"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
                      {% elif num > oscr_list.number|add:'-3' and num < oscr_list.number|add:'3' %}
                        <li class="page-item"><a class="oscr-link" href="?page={{ num }}">{{ num }}</a></li>
                      {% endif %}
                    {% endfor %}
                    {% if oscr_list.has_next %}
                      <li class="page-item">
                        <a class="page-link" href="?page={{ oscr_list.next_page_number }}"aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                          <span class="sr-only">Next</span>
                        </a>
                      </li>
                      {% endif %}
                  </ul>
                </nav>
                <!-- pagination end -->
            </div>
            <div class="tab-pane fade" id="pills-closeout" role="tabpanel" aria-labelledby="pills-closeout-tab">

            </div>
          </div>
        </div>
    </div>
  </div>
</div>


</div>
{% endblock %}

{% block otherScripts %}
<script type="text/javascript" src="{% static 'main/js/cleave.min.js' %}"></script>
<script type="text/javascript" src="{% static 'main/js/profile.js' %}"></script>
{% endblock otherScripts %}
